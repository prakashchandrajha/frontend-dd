<app-layout>
  <div class="dashboard-container">
    <!-- Header Section -->
    <div class="page-header">
      <div class="header-content">
        <h1 class="page-title">Dashboard Overview</h1>
        <p class="page-subtitle">Track your projects, tasks, and team performance</p>
      </div>
      
    </div>

    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card" *ngFor="let stat of stats; let i = index" [style.animation-delay]="i * 100 + 'ms'">
        <div class="stat-header">
          <div class="stat-icon" [class]="'bg-' + stat.color + '-500/10 text-' + stat.color + '-400'">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <!-- Revenue -->
              <g *ngIf="stat.icon === 'revenue'">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
              </g>
              <!-- Users -->
              <g *ngIf="stat.icon === 'users'">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </g>
              <!-- Tasks -->
              <g *ngIf="stat.icon === 'tasks'">
                <path d="M9 11l3 3L22 4"/>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
              </g>
              <!-- Rating -->
              <g *ngIf="stat.icon === 'rating'">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
              </g>
            </svg>
          </div>
          <div class="stat-trend" [class.up]="stat.trend === 'up'" [class.down]="stat.trend === 'down'">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline *ngIf="stat.trend === 'up'" points="23 6 13.5 15.5 8.5 10.5 1 18"/>
              <polyline *ngIf="stat.trend === 'down'" points="23 18 13.5 8.5 8.5 13.5 1 6"/>
            </svg>
            {{ stat.change }}
          </div>
        </div>
        <div class="stat-content">
          <h3 class="stat-value">{{ stat.value }}</h3>
          <p class="stat-label">{{ stat.title }}</p>
        </div>
        <div class="stat-progress">
          <div class="progress-bar"></div>
        </div>
      </div>
    </div>

    <!-- Main Grid -->
    <div class="main-grid">
      <!-- Chart Section -->
      <div class="chart-card">
        <div class="card-header">
          <div>
            <h3 class="card-title">Revenue Analytics</h3>
            <p class="card-subtitle">Monthly performance overview</p>
          </div>
          <div class="chart-legend">
            <div class="legend-item">
              <span class="legend-dot primary"></span>
              <span>This Year</span>
            </div>
            <div class="legend-item">
              <span class="legend-dot secondary"></span>
              <span>Last Year</span>
            </div>
          </div>
        </div>
        <div class="chart-container">
          <div class="chart-y-axis">
            <span>50k</span>
            <span>40k</span>
            <span>30k</span>
            <span>20k</span>
            <span>10k</span>
            <span>0</span>
          </div>
          <div class="chart-bars">
            <div class="bar-wrapper" *ngFor="let bar of chartBars; let i = index">
              <div class="bar-group">
                <div class="bar secondary" [style.height.%]="bar * 0.8"></div>
                <div class="bar primary" [style.height.%]="bar"></div>
              </div>
              <span class="bar-label">{{ chartLabels[i] }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Activity Feed -->
      <div class="activity-card">
        <div class="card-header">
          <div>
            <h3 class="card-title">Recent Activity</h3>
            <p class="card-subtitle">Latest updates from your team</p>
          </div>
          <button class="btn-text">View All</button>
        </div>
        <div class="activity-list">
          <div class="activity-item" *ngFor="let activity of recentActivity">
            <div class="activity-avatar" [class]="activity.color">
              {{ activity.avatar }}
            </div>
            <div class="activity-content">
              <p class="activity-text">
                <strong>{{ activity.user }}</strong> {{ activity.action }} <span class="highlight">{{ activity.target }}</span>
              </p>
              <span class="activity-time">{{ activity.time }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Projects Section -->
    <div class="projects-section">
      <div class="section-header">
        <h3 class="section-title">Active Projects</h3>
        <div class="section-filters">
          <button class="filter-btn active">All</button>
          <button class="filter-btn">In Progress</button>
          <button class="filter-btn">Completed</button>
        </div>
      </div>
      
      <div class="projects-grid">
        <div class="project-card" *ngFor="let project of projects">
          <div class="project-header">
            <div class="project-icon" [class]="'bg-' + project.color + '-500/10 text-' + project.color + '-400'">
              {{ project.name[0] }}
            </div>
            <div class="project-meta">
              <span class="project-status" [class]="'status-' + getStatusColor(project.status)">
                {{ project.status }}
              </span>
              <button class="project-menu">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="1"/>
                  <circle cx="19" cy="12" r="1"/>
                  <circle cx="5" cy="12" r="1"/>
                </svg>
              </button>
            </div>
          </div>
          
          <h4 class="project-name">{{ project.name }}</h4>
          <p class="project-description">{{ project.description }}</p>
          
          <div class="project-stats">
            <div class="stat">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
              </svg>
              <span>{{ project.members }} members</span>
            </div>
            <div class="stat">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              <span>{{ project.dueDate }}</span>
            </div>
          </div>
          
          <div class="project-progress">
            <div class="progress-header">
              <span>Progress</span>
              <span class="progress-value">{{ project.progress }}%</span>
            </div>
            <div class="progress-track">
              <div class="progress-fill" [class]="'bg-' + project.color + '-500'" [style.width.%]="project.progress"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-layout>